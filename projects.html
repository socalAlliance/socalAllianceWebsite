<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<!-- favicon (relative path, no leading slash) -->
<link href="/images/logo.png" rel="icon" type="image/png"/>
<!-- fonts -->
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Instrument+Sans&amp;family=Tilt+Warp&amp;display=swap" rel="stylesheet"/>
<!-- Google tag (gtag.js) -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-65LTDNTZ16"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-65LTDNTZ16');
</script>
<link rel="stylesheet" href="projects.css"/>
</head>
<body>
<!-- NAV -->
<div id="nav"></div>
<script>
(async () => {
  const el = document.getElementById('nav');
  try {
    // fetch the shared nav (cache-busted)
    const res = await fetch('nav.html?v=6', { cache: 'no-store' });
    if (!res.ok) throw new Error(res.status);
    const html = await res.text();
    el.innerHTML = html;

    // run any <script> tags inside nav.html
    el.querySelectorAll('script').forEach(old => {
      const s = document.createElement('script');
      if (old.src) s.src = old.src; else s.textContent = old.textContent;
      old.replaceWith(s);
    });

    // normalize folder-style links to flat files
    const map = { '/':'index.html','/about/':'about.html','/vex/':'vex.html','/projects/':'projects.html','/support/':'support.html' };
    el.querySelectorAll('a[href]').forEach(a => {
      const raw = a.getAttribute('href');
      if (map[raw]) a.setAttribute('href', map[raw]);
    });

    // fix root-absolute image paths inside the nav (if any)
    el.querySelectorAll('[src^="/images/"]').forEach(n => {
      n.setAttribute('src', n.getAttribute('src').replace('/images/','images/'));
    });
    el.querySelectorAll('[style*="/images/"]').forEach(n => {
      n.style.backgroundImage = n.style.backgroundImage.replace('/images/','images/');
    });
  } catch (e) {
    console.warn('Failed to load nav.html:', e);
    // minimal fallback so the page isn't blank if fetch is blocked (e.g., file://)
    el.innerHTML = `
      <header class="top-bar" style="position:sticky;top:0;z-index:1000;background:linear-gradient(90deg,#000 0,#000 10%,#F0115F 60%,#EF7616 100%);padding:0 16px;height:80px;display:flex;align-items:center">
        <a href="index.html" style="display:inline-block;width:50px;height:45px;background:url('images/logo.png') center/cover no-repeat"></a>
        <nav style="margin-left:auto;display:flex;gap:16px;font-weight:bold">
          <a href="about.html" style="color:#fff;text-decoration:none">ABOUT</a>
          <a href="vex.html" style="color:#fff;text-decoration:none">VEX</a>
          <a href="projects.html" style="color:#fff;text-decoration:none">PROJECTS</a>
          <a href="support.html" style="color:#fff;text-decoration:none">SUPPORT</a>
        </nav>
      </header>`;
  }
})();
</script>

<main>
<section class="hero">
<h1>WHAT WE’RE DOING</h1>
</section>
<section class="features">
<article class="feature">
<img alt="" src="/images/scrimming.png"/>
<div class="copy">
<h3>
<a class="feature-btn" href="https://docs.google.com/forms/d/e/1FAIpQLScGGJLw2yV9QkPJk8zACn_MSqXgCfeg9FaOOrdy1TTCh5fFEg/viewform?usp=preview" onclick="event.stopPropagation()" rel="noopener" target="_blank">
        Mentoring and Volunteering
      </a>
</h3>
<p><!--…--></p>
</div>
</article>
<article class="feature">
<img alt="" src="/images/vexu.png"/>
<div class="copy">
<h3>
<a class="feature-btn" href="https://docs.google.com/document/d/1ytcRuUcWIWxwsZIfzGv6c_-Vg2tsbZ0OXDBiRyXImR0/edit?usp=sharing" onclick="event.stopPropagation()" rel="noopener" target="_blank">
        Competing Teams
      </a>
</h3>
<p><!--…--></p>
</div>
</article>
<article class="feature">
<img alt="" src="/images/Banner.png"/>
<div class="copy">
<h3>
<a class="feature-btn" href="https://docs.google.com/document/d/17gKdwJgWM0LbqSmfvf68YcsC7uPvrioFGI1wJeIiZ_A/edit?usp=sharing" onclick="event.stopPropagation()" rel="noopener" target="_blank">
        Competitions and Scrimmages
      </a>
</h3>
<p><!--…--></p>
</div>
</article>
<article class="feature">
<img alt="" src="/images/teaching.png"/>
<div class="copy">
<h3>
<a class="feature-btn" href="https://www.youtube.com/@SCA_ORG" onclick="event.stopPropagation()" rel="noopener" target="_blank">
        Educational Videos
      </a>
</h3>
<p><!--…--></p>
</div>
</article>
</section>
<section class="doc-section">
<h2 class="doc-title">CALENDER</h2>
<div class="doc-gradient-wrapper">
<div class="doc-inner">
<iframe allowfullscreen="" frameborder="0" src="https://docs.google.com/document/d/e/2PACX-1vQ2KHa3i_cUA1KIpm9MV2mydgwwaJfaJK2Fl1Bp-9RAzJeDvQZ1exYGBcpQv-DD3aaa1cpIJWQ6KIkc/pub">
</iframe>
</div>
</div>
</section>
<div id="footer"></div>
<script>
(async () => {
  const el = document.getElementById('footer');
  try {
    const res = await fetch('footer.html', { cache: 'no-store' });
    if (!res.ok) throw new Error(res.status);
    const html = await res.text();
    el.innerHTML = html;

    // 1) run any scripts inside the loaded footer
    el.querySelectorAll('script').forEach(old => {
      const s = document.createElement('script');
      if (old.src) s.src = old.src; else s.textContent = old.textContent;
      old.replaceWith(s);
    });

    // 2) rewrite folder-style links to flat files
    const map = { '/':'index.html','/about/':'about.html','/vex/':'vex.html','/projects/':'projects.html','/support/':'support.html' };
    el.querySelectorAll('a[href]').forEach(a => {
      const raw = a.getAttribute('href');
      if (map[raw]) a.setAttribute('href', map[raw]);
    });

    // 3) fix root-absolute image paths
    el.querySelectorAll('[src^="/images/"]').forEach(n => {
      n.setAttribute('src', n.getAttribute('src').replace('/images/','images/'));
    });
    el.querySelectorAll('[style*="/images/"]').forEach(n => {
      n.style.backgroundImage = n.style.backgroundImage.replace('/images/','images/');
    });
  } catch (e) {
    console.warn('Failed to load footer.html:', e);
    // 4) minimal fallback (works even on file://)
    el.innerHTML = `
      <footer class="site-footer" style="background:linear-gradient(90deg,#000 0,#000 10%,#F0115F 60%,#EF7616 100%);color:#fff;padding:1.5rem 6vw;text-align:center">
        <img src="images/logowhite.png" alt="" style="height:45px;vertical-align:middle;margin-right:.5rem">
        © 2025 SoCal Alliance Robotics · <a href="support.html" style="color:#fff;text-decoration:underline">Donate</a>
      </footer>`;
  }
})();
</script>

<script>
  (function(){
    const list    = document.querySelector(".tl-list");
    const upBtn   = document.querySelector(".tl-arrow.up");
    const downBtn = document.querySelector(".tl-arrow.down");
    if (!list || !upBtn || !downBtn) return; // guard: no timeline on this page

    const items      = Array.from(list.children);
    const itemHeight = items[0].getBoundingClientRect().height + 30; // +gap
    let index = 0;

    function updateScroll() {
      list.style.transform = `translateY(-${index * itemHeight}px)`;
    }

    upBtn.addEventListener("click", () => {
      index = Math.max(0, index - 1);
      updateScroll();
    });
    downBtn.addEventListener("click", () => {
      index = Math.min(items.length - 1, index + 1);
      updateScroll();
    });
  })();
  </script>
<!-- Hide-on-scroll Nav Script -->
<script>
    (function(){
      let lastY = window.scrollY;
      const nav = document.querySelector('.top-bar');
      window.addEventListener('scroll', () => {
        const y = window.scrollY;
        nav.classList.toggle('hidden', y > lastY && y > 100);
        lastY = y;
      });
    })();
  </script>
<script>
// clone your slides so the track is “logo1…logoN | logo1…logoN”
;(function(){
  const track = document.querySelector('.carousel-track');
  // guard
  if(!track) return;
  // duplicate
  track.innerHTML += track.innerHTML;
  // manual buttons still work
  const slides = Array.from(track.children);
  let index = 0;
  const gap = parseInt(getComputedStyle(track).gap) || 0;
  function jump(dir){
    // temporarily disable animation
    track.style.animation = 'none';
    // move index and compute offset
    index = (index + dir + slides.length) % slides.length;
    const step = slides[0].getBoundingClientRect().width + gap;
    track.style.transform = `translateX(-${index * step}px)`;
    // re-trigger CSS animation
    void track.offsetWidth;
    track.style.animation = '';
  }
  document.querySelector('.carousel-arrow.left')
    .addEventListener('click', ()=>jump(-1));
  document.querySelector('.carousel-arrow.right')
    .addEventListener('click', ()=>jump(1));
})();
</script>
<script>
(function(){
  const btn = document.querySelector('.nav-toggle');
  const nav = document.getElementById('site-nav');
  if (!btn || !nav) return;
  btn.addEventListener('click', function(){
    const open = this.getAttribute('aria-expanded') === 'true';
    this.setAttribute('aria-expanded', String(!open));
    nav.classList.toggle('open', !open);
    document.body.classList.toggle('menu-open', !open);
  });
  nav.addEventListener('click', function(e){
    if (e.target.tagName === 'A') {
      btn.setAttribute('aria-expanded', 'false');
      nav.classList.remove('open');
      document.body.classList.remove('menu-open');
    }
  });
})();
</script>
<script id="sca-nav.js">
(function(){
  const header   = document.querySelector('.sca-nav');
  const toggle   = header.querySelector('.sca-nav__toggle');
  const menu     = header.querySelector('.sca-nav__menu');
  const backdrop = header.querySelector('.sca-nav__backdrop');

  // Compute and set the --sca-nav-bottom custom property so the menu sits under header
  function placeMenu(){
    const rect = header.getBoundingClientRect();
    const top  = Math.max(0, rect.bottom); // safe
    document.documentElement.style.setProperty('--sca-nav-bottom', top + 'px');
  }

  function openMenu(){
    placeMenu();
    menu.classList.add('is-open');
    backdrop.hidden = false;
    toggle.setAttribute('aria-expanded', 'true');
    document.body.classList.add('sca-nav--locked');
  }

  function closeMenu(){
    menu.classList.remove('is-open');
    backdrop.hidden = true;
    toggle.setAttribute('aria-expanded', 'false');
    document.body.classList.remove('sca-nav--locked');
  }

  toggle.addEventListener('click', () => {
    const isOpen = toggle.getAttribute('aria-expanded') === 'true';
    if (isOpen) closeMenu(); else openMenu();
  });

  // Close on link click
  menu.addEventListener('click', (e) => {
    if (e.target.tagName === 'A') closeMenu();
  });

  // Close if tapping outside via backdrop
  backdrop.addEventListener('click', closeMenu);

  // Keep the panel under the header while resizing/scrolling
  window.addEventListener('resize', () => { if (menu.classList.contains('is-open')) placeMenu(); });
  window.addEventListener('scroll',  () => { if (menu.classList.contains('is-open')) placeMenu(); });
})();
</script>


<script>
  async function loadPart(id, file) {
    const res = await fetch(file, { cache: "no-store" });
    const html = await res.text();
    const mount = document.getElementById(id);
    mount.innerHTML = html;
    // Run inline scripts if any
    mount.querySelectorAll("script").forEach(old => {
      const s = document.createElement("script");
      if (old.src) s.src = old.src; else s.textContent = old.textContent;
      old.replaceWith(s);
    });
  }
  loadPart("nav", "./nav.html");
  loadPart("footer", "./footer.html");
</script>


<script id="flat-links-fix">
(function(){
  const map = {
    "/": "index.html",
    "/about/": "about.html",
    "/about": "about.html",
    "/vex/": "vex.html",
    "/vex": "vex.html",
    "/projects/": "projects.html",
    "/projects": "projects.html",
    "/support/": "support.html",
    "/support": "support.html"
  };
  function rewrite(href){
    if (!href) return null;
    // direct map
    if (map[href]) return map[href];
    // absolute URLs
    try{
      const u = new URL(href, location.href);
      if (map[u.pathname]) return map[u.pathname] + (u.hash || "");
    }catch(e){ /* ignore */ }
    return null;
  }
  // Fix existing anchors
  document.querySelectorAll('a[href]').forEach(a => {
    const fix = rewrite(a.getAttribute('href'));
    if (fix) a.setAttribute('href', fix);
  });
  // Intercept clicks just in case something sets href later
  document.addEventListener('click', (e) => {
    const a = e.target.closest('a[href]');
    if (!a) return;
    const fix = rewrite(a.getAttribute('href'));
    if (fix){
      e.preventDefault();
      window.location.href = fix;
    }
  }, true);
})();
</script>

</body>
</html>